<!-- sections/cards.liquid -->

<div class="card-section__container {{ section.settings.card_section_container_styles }}">
  <h2 class="card-section__title {{ section.settings.card_section_title_styles }}">
    {{ section.settings.section_title }}
  </h2>
</div>
<div class="card-container {{ section.settings.card_container_styles }}">
  {% for block in section.blocks %}
    <div class="card-wrapper {{ section.settings.card_wrapper_styles }}">
      <div class="card {{ section.settings.card_styles }}">
        {% if block.settings.card_link != blank and block.settings.card_image != blank %}
          <a href="{{ block.settings.card_link }}" class="card__link">
            {%- assign image_width = section.settings.image_width -%}
            {%- assign image_height = section.settings.image_height -%}
            {%- assign card_image_styles = section.settings.card_image_styles -%}
            {{
              block.settings.card_image
              | image_url: width: image_width, height: image_height
              | image_tag: class: card_image_styles
            -}}
          </a>
        {% endif %}
        <div class="card__content {{ section.settings.card_content_styles }}">
          {% if block.settings.card_link != blank and block.settings.card_details != blank %}
            <a href="{{ block.settings.card_link }}" class="card__link">
              <h5 class="card__details {{ section.settings.card_details_styles }}">
                {{ block.settings.card_details }}
              </h5>
            </a>
          {% endif %}
          <p class="card__subdetails {{ section.settings.card_subdetails_styles }}">
            {{ block.settings.card_subdetails }}
          </p>
          {% if block.settings.card_link != blank and block.settings.card_button_text != blank %}
            <a
              href="{{ block.settings.card_link }}"
              class="card__button {{ section.settings.card_button_styles }}"
            >
              {{ block.settings.card_button_text }}
              <span class="card__button-icon {{ section.settings.card_button_icon_styles }}">
                {% render 'icon-right-arrow' %}
              </span>
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  {% endfor %}
</div>

{% schema %}
{
  "name": "Card Display",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Our Special Offers"
    },
    {
      "type": "number",
      "id": "image_width",
      "label": "Image Width",
      "default": 400
    },
    {
      "type": "number",
      "id": "image_height",
      "label": "Image Height",
      "default": 400
    },
    {
      "type": "textarea",
      "label": "Card Section Container Styles",
      "id": "card_section_container_styles",
      "default": "px-4 py-4"
    },
    {
      "type": "textarea",
      "label": "Card Section Title Styles",
      "id": "card_section_title_styles",
      "default": "text-center text-2xl md:text-3xl font-bold text-gray-900"
    },
    {
      "type": "textarea",
      "label": "Card Container Styles",
      "id": "card_container_styles",
      "default": "flex flex-wrap justify-center px-4 py-4 gap-4 2xl:gap-0"
    },
    {
      "type": "textarea",
      "label": "Card Wrapper Styles",
      "id": "card_wrapper_styles",
      "default": "w-full md:w-1/4"
    },
    {
      "type": "textarea",
      "label": "Card Styles",
      "id": "card_styles",
      "default": "max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 2xl:mt-5 2xl:mx-24"
    },
    {
      "type": "textarea",
      "id": "card_image_styles",
      "label": "Card Image Styles",
      "default": "rounded-t-lg object-cover w-full h-[150px] md:h-[200px]"
    },
    {
      "type": "textarea",
      "label": "Card Content Styles",
      "id": "card_content_styles",
      "default": "px-4 py-3 md:p-5"
    },
    {
      "type": "textarea",
      "label": "Card Details Styles",
      "id": "card_details_styles",
      "default": "mb-2 text-lg md:text-xl font-semibold tracking-tight text-gray-900 dark:text-white"
    },
    {
      "type": "textarea",
      "label": "Card Subdetails Styles",
      "id": "card_subdetails_styles",
      "default": "text-sm md:text-base mb-3 font-normal text-gray-700 dark:text-gray-400"
    },
    {
      "type": "textarea",
      "label": "Card Button Styles",
      "id": "card_button_styles",
      "default": "inline-flex items-center px-2 py-1 md:px-3 md:py-2 text-xs md:text-sm font-medium text-center text-white bg-blue-700 border border-primary-600 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
    },
    {
      "type": "textarea",
      "label": "Card Button Icon Styles",
      "id": "card_button_icon_styles",
      "default": "rtl:rotate-180 w-3 h-3 ms-2 mt-1 md:w-3.5 md:h-3.5"
    }
  ],
  "blocks": [
    {
      "type": "card_block",
      "name": "Card",
      "settings": [
        {
          "type": "image_picker",
          "label": "Card Image",
          "id": "card_image",
          "info": "Select an image for the card"
        },
        {
          "type": "textarea",
          "label": "Card Details",
          "id": "card_details",
          "default": "Add card Details"
        },
        {
          "type": "textarea",
          "label": "Card Sub Details",
          "id": "card_subdetails",
          "default": "Add card sub Details"
        },
        {
          "type": "text",
          "label": "Card Button Text",
          "id": "card_button_text",
          "default": "Read more"
        },
        {
          "type": "text",
          "label": "Card Link",
          "id": "card_link",
          "default": "/collections/all?discount=SAVE25"
        }
      ]
    }
  ],
  "presets": [
    {
      "category": "Custom",
      "name": "Card Display"
    }
  ]
}
{% endschema %}